import streamlit as st
import random

st.set_page_config(page_title="ğŸŒ Gelecek DÃ¼nya SimÃ¼lasyonu", layout="wide")
st.title("ğŸŒ Gelecek DÃ¼nya SimÃ¼lasyonu")
st.write("Senin seÃ§imlerin dÃ¼nyayÄ± ÅŸekillendiriyor! ğŸŒ±ğŸŒ")

# BaÅŸlangÄ±Ã§ deÄŸerleri
if "gun" not in st.session_state:
    st.session_state.gun = 1
if "co2" not in st.session_state:
    st.session_state.co2 = 50  # 0-100 arasÄ±, 100 = felaket
if "dunya" not in st.session_state:
    st.session_state.dunya = []

st.subheader(f"GÃ¼n {st.session_state.gun}")

# KullanÄ±cÄ± seÃ§imleri
beslenme = st.radio("ğŸ¥— Ne yiyorsun bugÃ¼n?", ["et", "sebze", "vegan"])
ulasim = st.radio("ğŸš— UlaÅŸÄ±m ÅŸeklin?", ["araba", "bisiklet", "toplu taÅŸÄ±ma", "yÃ¼rÃ¼yÃ¼ÅŸ", "uÃ§an araba"])
enerji = st.radio("âš¡ Enerji kaynaÄŸÄ±n?", ["fosil", "yenilenebilir", "nÃ¼kleer", "karma"])
eglence = st.radio("ğŸ® BoÅŸ zaman aktiviten?", ["video oyun", "doÄŸa yÃ¼rÃ¼yÃ¼ÅŸÃ¼", "spor", "film", "kitap"])

# SeÃ§imi uygula
def dunya_tur():
    co2_change = 0
    olaylar = []

    # Beslenme etkisi
    if beslenme == "et":
        co2_change += 5
        olaylar.append("ğŸŒ¡ï¸ Et yemek COâ‚‚ arttÄ±rdÄ±.")
    elif beslenme == "sebze":
        co2_change += 1
        olaylar.append("ğŸ¥¦ Sebze yemek biraz COâ‚‚ Ã¼retti.")
    else:
        co2_change -= 1
        olaylar.append("ğŸŒ± Vegan beslendin, COâ‚‚ azaldÄ±.")

    # UlaÅŸÄ±m etkisi
    if ulasim == "araba":
        co2_change += 5
        olaylar.append("ğŸš— Araba kullandÄ±n, COâ‚‚ arttÄ±.")
    elif ulasim in ["bisiklet", "yÃ¼rÃ¼yÃ¼ÅŸ"]:
        co2_change -= 2
        olaylar.append("ğŸš´â€â™‚ï¸ Bisiklet/yÃ¼rÃ¼yÃ¼ÅŸ COâ‚‚ azalttÄ±.")
    elif ulasim == "toplu taÅŸÄ±ma":
        co2_change -= 1
        olaylar.append("ğŸšŒ Toplu taÅŸÄ±ma COâ‚‚â€™yi biraz azalttÄ±.")
    else:
        co2_change -= 1
        olaylar.append("ğŸš€ UÃ§an araba COâ‚‚ dengelendi.")

    # Enerji etkisi
    if enerji == "fosil":
        co2_change += 5
        olaylar.append("ğŸ’¨ Fosil enerji COâ‚‚â€™yi artÄ±rdÄ±.")
    elif enerji == "yenilenebilir":
        co2_change -= 3
        olaylar.append("ğŸ”‹ Yenilenebilir enerji COâ‚‚â€™yi azalttÄ±.")
    elif enerji == "nÃ¼kleer":
        co2_change += 0
        olaylar.append("â˜¢ï¸ NÃ¼kleer enerji dengede kaldÄ±.")
    else:
        co2_change += random.randint(-1, 2)
        olaylar.append("âš¡ Karma enerji deÄŸiÅŸken etkili oldu.")

    # EÄŸlence etkisi (ufak etkiler)
    if eglence == "doÄŸa yÃ¼rÃ¼yÃ¼ÅŸÃ¼":
        co2_change -= 1
        olaylar.append("ğŸŒ³ DoÄŸa yÃ¼rÃ¼yÃ¼ÅŸÃ¼ COâ‚‚â€™yi azalttÄ±.")
    elif eglence == "video oyun":
        co2_change += 0
        olaylar.append("ğŸ® Video oyun etkisi nÃ¶tr.")
    elif eglence == "spor":
        co2_change -= 1
        olaylar.append("ğŸ‹ï¸ Spor COâ‚‚â€™yi biraz azalttÄ±.")
    elif eglence == "film":
        co2_change += 0
        olaylar.append("ğŸ¬ Film etkisi nÃ¶tr.")
    else:
        co2_change -= 1
        olaylar.append("ğŸ“š Kitap okumak COâ‚‚â€™yi azalttÄ±.")

    # COâ‚‚ deÄŸerini gÃ¼ncelle
    st.session_state.co2 += co2_change
    st.session_state.co2 = max(0, min(100, st.session_state.co2))  # 0-100 arasÄ± sÄ±nÄ±rla
    st.session_state.dunya.append(f"GÃ¼n {st.session_state.gun}: " + ", ".join(olaylar))
    st.session_state.gun += 1

# Buton ile turu baÅŸlat
if st.button("GÃ¼nÃ¼ Tamamla"):
    dunya_tur()

# Durumu gÃ¶ster
st.subheader("ğŸŒ DÃ¼nya Durumu")
for satir in st.session_state.dunya:
    st.write(" - " + satir)

st.write(f"ğŸ”¥ COâ‚‚ Seviyesi: {st.session_state.co2}/100")

# Felaket kontrolÃ¼
if st.session_state.co2 >= 100:
    st.error("âš ï¸ COâ‚‚ Ã§ok yÃ¼ksek! DÃ¼nya bÃ¼yÃ¼k bir felaketle karÅŸÄ± karÅŸÄ±ya!")
    st.stop()
elif st.session_state.co2 <= 10:
    st.success("ğŸŒ± COâ‚‚ Ã§ok dÃ¼ÅŸÃ¼k! DÃ¼nya Ã§ok saÄŸlÄ±klÄ± ve dengede!")
